==================== Test output for //test/extensions/filters/http/grpc_json_transcoder:grpc_json_transcoder_integration_test:
[==========] Running 17 tests from 1 test suite.
[----------] Global test environment set-up.
[----------] 17 tests from IpVersions/GrpcJsonTranscoderIntegrationTest
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryPost/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryPost/IPv4 (652 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.QueryParams/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.QueryParams/IPv4 (634 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryGet/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryGet/IPv4 (503 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryGetHttpBody/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryGetHttpBody/IPv4 (480 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryGetError/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryGetError/IPv4 (463 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryGetError1/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryGetError1/IPv4 (538 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryDelete/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryDelete/IPv4 (474 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryPatch/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryPatch/IPv4 (476 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryCustom/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.UnaryCustom/IPv4 (468 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.BindingAndBody/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.BindingAndBody/IPv4 (509 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.ServerStreamingGet/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.ServerStreamingGet/IPv4 (484 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.StreamingPost/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.StreamingPost/IPv4 (484 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.InvalidJson/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.InvalidJson/IPv4 (551 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.DeepStruct/IPv4
[       OK ] IpVersions/GrpcJsonTranscoderIntegrationTest.DeepStruct/IPv4 (15613 ms)
[ RUN      ] IpVersions/GrpcJsonTranscoderIntegrationTest.LargeStruct/IPv4
test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:78: Failure
Value of: upstream_request_->waitForEndStream(*dispatcher_)
  Actual: false (Timed out waiting for end of stream.)
Expected: true
==================
WARNING: ThreadSanitizer: heap-use-after-free (virtual call vs free) (pid=2206)
  Read of size 8 at 0x7b2c00010808 by main thread:
    #0 Envoy::Http::StreamCallbackHelper::runResetCallbacks(Envoy::Http::StreamResetReason) /proc/self/cwd/bazel-out/k8-dbg/bin/source/common/http/_virtual_includes/codec_helper_lib/common/http/codec_helper.h:49:20 (grpc_json_transcoder_integration_test+0x2e7c194)
    #1 Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:789:23 (grpc_json_transcoder_integration_test+0x2e7897d)
    #2 non-virtual thunk to Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e789e8)
    #3 Envoy::Http::Http1::ConnectionImpl::onResetStreamBase(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:506:3 (grpc_json_transcoder_integration_test+0x2e70898)
    #4 Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:223:15 (grpc_json_transcoder_integration_test+0x2e7066f)
    #5 non-virtual thunk to Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e70958)
    #6 Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc:87:55 (grpc_json_transcoder_integration_test+0x2e6633e)
    #7 non-virtual thunk to Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc (grpc_json_transcoder_integration_test+0x2e66a48)
    #8 Envoy::Network::ConnectionImpl::raiseEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:335:15 (grpc_json_transcoder_integration_test+0x35ca006)
    #9 Envoy::Network::ConnectionImpl::closeSocket(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:199:3 (grpc_json_transcoder_integration_test+0x35c80a7)
    #10 Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc:123:7 (grpc_json_transcoder_integration_test+0x35c7349)
    #11 virtual thunk to Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc (grpc_json_transcoder_integration_test+0x35c8146)
    #12 Envoy::Http::CodecClient::close() /proc/self/cwd/source/common/http/codec_client.cc:41:42 (grpc_json_transcoder_integration_test+0x2e658a5)
    #13 Envoy::HttpIntegrationTest::cleanupUpstreamAndDownstream() /proc/self/cwd/test/integration/http_integration.cc:303:20 (grpc_json_transcoder_integration_test+0x17a4b84)
    #14 Envoy::HttpIntegrationTest::~HttpIntegrationTest() /proc/self/cwd/test/integration/http_integration.cc:244:3 (grpc_json_transcoder_integration_test+0x17a4491)
    #15 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest::~GrpcJsonTranscoderIntegrationTest() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:24:7 (grpc_json_transcoder_integration_test+0x167ce16)
    #16 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c4688)
    #17 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c46cc)
    #18 testing::Test::DeleteSelf_() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:488:24 (grpc_json_transcoder_integration_test+0x45b5e92)
    #19 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45cf896)
    #20 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b50f1)
    #21 testing::TestInfo::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2704:5 (grpc_json_transcoder_integration_test+0x459627f)
    #22 testing::TestSuite::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2828:28 (grpc_json_transcoder_integration_test+0x4596c84)
    #23 testing::internal::UnitTestImpl::RunAllTests() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:5285:44 (grpc_json_transcoder_integration_test+0x45aa467)
    #24 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45d5706)
    #25 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b8ff7)
    #26 testing::UnitTest::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:4873:10 (grpc_json_transcoder_integration_test+0x45a9c8e)
    #27 RUN_ALL_TESTS() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:2453:46 (grpc_json_transcoder_integration_test+0x31ba967)
    #28 Envoy::TestRunner::RunTests(int, char**) /proc/self/cwd/./test/test_runner.h:121:12 (grpc_json_transcoder_integration_test+0x31b9e79)
    #29 main /proc/self/cwd/test/main.cc:38:10 (grpc_json_transcoder_integration_test+0x31b8604)

  Previous write of size 8 at 0x7b2c00010808 by main thread:
    [failed to restore the stack]

SUMMARY: ThreadSanitizer: heap-use-after-free (virtual call vs free) /proc/self/cwd/bazel-out/k8-dbg/bin/source/common/http/_virtual_includes/codec_helper_lib/common/http/codec_helper.h:49:20 in Envoy::Http::StreamCallbackHelper::runResetCallbacks(Envoy::Http::StreamResetReason)
==================
==================
WARNING: ThreadSanitizer: signal-unsafe call inside of a signal (pid=2206)
    #0 malloc <null> (grpc_json_transcoder_integration_test+0x15ebfa7)
    #1 __strdup /build/glibc-LK5gWL/glibc-2.23/string/strdup.c:42 (libc.so.6+0x8b489)
    #2 spdlog::details::os::localtime(long const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/os.h:81:5 (grpc_json_transcoder_integration_test+0x1720657)
    #3 spdlog::pattern_formatter::get_time_(spdlog::details::log_msg const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1078:20 (grpc_json_transcoder_integration_test+0x4495d3d)
    #4 spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v5::basic_memory_buffer<char, 500ul, std::allocator<char> >&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1053:26 (grpc_json_transcoder_integration_test+0x4467cc7)
    #5 Envoy::Logger::DelegatingLogSink::log(spdlog::details::log_msg const&) /proc/self/cwd/source/common/common/logger.cc:65:15 (grpc_json_transcoder_integration_test+0x4461883)
    #6 spdlog::logger::sink_it_(spdlog::details::log_msg&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:387:19 (grpc_json_transcoder_integration_test+0x16cd245)
    #7 void spdlog::logger::log<char const*, void const*>(spdlog::source_loc, spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:74:9 (grpc_json_transcoder_integration_test+0x445c5cc)
    #8 void spdlog::logger::log<char const*, void const*>(spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:82:5 (grpc_json_transcoder_integration_test+0x445c39d)
    #9 void spdlog::logger::critical<char const*, void const*>(char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:183:5 (grpc_json_transcoder_integration_test+0x445c2e1)
    #10 Envoy::BackwardsTrace::logFault(char const*, void const*) /proc/self/cwd/bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:81:5 (grpc_json_transcoder_integration_test+0x445bc69)
    #11 Envoy::SignalAction::sigHandler(int, siginfo_t*, void*) /proc/self/cwd/source/common/signal/signal_action.cc:56:10 (grpc_json_transcoder_integration_test+0x4459c86)
    #12 __tsan::CallUserSignalHandler(__tsan::ThreadState*, bool, bool, bool, int, __sanitizer::__sanitizer_siginfo*, void*) <null> (grpc_json_transcoder_integration_test+0x15f3e73)
    #13 Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:789:23 (grpc_json_transcoder_integration_test+0x2e7897d)
    #14 non-virtual thunk to Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e789e8)
    #15 Envoy::Http::Http1::ConnectionImpl::onResetStreamBase(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:506:3 (grpc_json_transcoder_integration_test+0x2e70898)
    #16 Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:223:15 (grpc_json_transcoder_integration_test+0x2e7066f)
    #17 non-virtual thunk to Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e70958)
    #18 Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc:87:55 (grpc_json_transcoder_integration_test+0x2e6633e)
    #19 non-virtual thunk to Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc (grpc_json_transcoder_integration_test+0x2e66a48)
    #20 Envoy::Network::ConnectionImpl::raiseEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:335:15 (grpc_json_transcoder_integration_test+0x35ca006)
    #21 Envoy::Network::ConnectionImpl::closeSocket(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:199:3 (grpc_json_transcoder_integration_test+0x35c80a7)
    #22 Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc:123:7 (grpc_json_transcoder_integration_test+0x35c7349)
    #23 virtual thunk to Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc (grpc_json_transcoder_integration_test+0x35c8146)
    #24 Envoy::Http::CodecClient::close() /proc/self/cwd/source/common/http/codec_client.cc:41:42 (grpc_json_transcoder_integration_test+0x2e658a5)
    #25 Envoy::HttpIntegrationTest::cleanupUpstreamAndDownstream() /proc/self/cwd/test/integration/http_integration.cc:303:20 (grpc_json_transcoder_integration_test+0x17a4b84)
    #26 Envoy::HttpIntegrationTest::~HttpIntegrationTest() /proc/self/cwd/test/integration/http_integration.cc:244:3 (grpc_json_transcoder_integration_test+0x17a4491)
    #27 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest::~GrpcJsonTranscoderIntegrationTest() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:24:7 (grpc_json_transcoder_integration_test+0x167ce16)
    #28 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c4688)
    #29 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c46cc)
    #30 testing::Test::DeleteSelf_() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:488:24 (grpc_json_transcoder_integration_test+0x45b5e92)
    #31 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45cf896)
    #32 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b50f1)
    #33 testing::TestInfo::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2704:5 (grpc_json_transcoder_integration_test+0x459627f)
    #34 testing::TestSuite::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2828:28 (grpc_json_transcoder_integration_test+0x4596c84)
    #35 testing::internal::UnitTestImpl::RunAllTests() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:5285:44 (grpc_json_transcoder_integration_test+0x45aa467)
    #36 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45d5706)
    #37 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b8ff7)
    #38 testing::UnitTest::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:4873:10 (grpc_json_transcoder_integration_test+0x45a9c8e)
    #39 RUN_ALL_TESTS() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:2453:46 (grpc_json_transcoder_integration_test+0x31ba967)
    #40 Envoy::TestRunner::RunTests(int, char**) /proc/self/cwd/./test/test_runner.h:121:12 (grpc_json_transcoder_integration_test+0x31b9e79)
    #41 main /proc/self/cwd/test/main.cc:38:10 (grpc_json_transcoder_integration_test+0x31b8604)

SUMMARY: ThreadSanitizer: signal-unsafe call inside of a signal (/build/tmp/_bazel_bazel/b570b5ccd0454dc9af9f65ab1833764d/execroot/envoy/bazel-out/k8-dbg/bin/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test+0x15ebfa7) in __interceptor_malloc
==================
==================
WARNING: ThreadSanitizer: signal-unsafe call inside of a signal (pid=2206)
    #0 malloc <null> (grpc_json_transcoder_integration_test+0x15ebfa7)
    #1 vasprintf /build/glibc-LK5gWL/glibc-2.23/libio/vasprintf.c:47 (libc.so.6+0x766f1)
    #2 spdlog::details::os::localtime(long const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/os.h:81:5 (grpc_json_transcoder_integration_test+0x1720657)
    #3 spdlog::pattern_formatter::get_time_(spdlog::details::log_msg const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1078:20 (grpc_json_transcoder_integration_test+0x4495d3d)
    #4 spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v5::basic_memory_buffer<char, 500ul, std::allocator<char> >&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1053:26 (grpc_json_transcoder_integration_test+0x4467cc7)
    #5 Envoy::Logger::DelegatingLogSink::log(spdlog::details::log_msg const&) /proc/self/cwd/source/common/common/logger.cc:65:15 (grpc_json_transcoder_integration_test+0x4461883)
    #6 spdlog::logger::sink_it_(spdlog::details::log_msg&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:387:19 (grpc_json_transcoder_integration_test+0x16cd245)
    #7 void spdlog::logger::log<char const*, void const*>(spdlog::source_loc, spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:74:9 (grpc_json_transcoder_integration_test+0x445c5cc)
    #8 void spdlog::logger::log<char const*, void const*>(spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:82:5 (grpc_json_transcoder_integration_test+0x445c39d)
    #9 void spdlog::logger::critical<char const*, void const*>(char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:183:5 (grpc_json_transcoder_integration_test+0x445c2e1)
    #10 Envoy::BackwardsTrace::logFault(char const*, void const*) /proc/self/cwd/bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:81:5 (grpc_json_transcoder_integration_test+0x445bc69)
    #11 Envoy::SignalAction::sigHandler(int, siginfo_t*, void*) /proc/self/cwd/source/common/signal/signal_action.cc:56:10 (grpc_json_transcoder_integration_test+0x4459c86)
    #12 __tsan::CallUserSignalHandler(__tsan::ThreadState*, bool, bool, bool, int, __sanitizer::__sanitizer_siginfo*, void*) <null> (grpc_json_transcoder_integration_test+0x15f3e73)
    #13 Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:789:23 (grpc_json_transcoder_integration_test+0x2e7897d)
    #14 non-virtual thunk to Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e789e8)
    #15 Envoy::Http::Http1::ConnectionImpl::onResetStreamBase(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:506:3 (grpc_json_transcoder_integration_test+0x2e70898)
    #16 Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:223:15 (grpc_json_transcoder_integration_test+0x2e7066f)
    #17 non-virtual thunk to Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e70958)
    #18 Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc:87:55 (grpc_json_transcoder_integration_test+0x2e6633e)
    #19 non-virtual thunk to Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc (grpc_json_transcoder_integration_test+0x2e66a48)
    #20 Envoy::Network::ConnectionImpl::raiseEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:335:15 (grpc_json_transcoder_integration_test+0x35ca006)
    #21 Envoy::Network::ConnectionImpl::closeSocket(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:199:3 (grpc_json_transcoder_integration_test+0x35c80a7)
    #22 Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc:123:7 (grpc_json_transcoder_integration_test+0x35c7349)
    #23 virtual thunk to Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc (grpc_json_transcoder_integration_test+0x35c8146)
    #24 Envoy::Http::CodecClient::close() /proc/self/cwd/source/common/http/codec_client.cc:41:42 (grpc_json_transcoder_integration_test+0x2e658a5)
    #25 Envoy::HttpIntegrationTest::cleanupUpstreamAndDownstream() /proc/self/cwd/test/integration/http_integration.cc:303:20 (grpc_json_transcoder_integration_test+0x17a4b84)
    #26 Envoy::HttpIntegrationTest::~HttpIntegrationTest() /proc/self/cwd/test/integration/http_integration.cc:244:3 (grpc_json_transcoder_integration_test+0x17a4491)
    #27 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest::~GrpcJsonTranscoderIntegrationTest() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:24:7 (grpc_json_transcoder_integration_test+0x167ce16)
    #28 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c4688)
    #29 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c46cc)
    #30 testing::Test::DeleteSelf_() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:488:24 (grpc_json_transcoder_integration_test+0x45b5e92)
    #31 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45cf896)
    #32 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b50f1)
    #33 testing::TestInfo::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2704:5 (grpc_json_transcoder_integration_test+0x459627f)
    #34 testing::TestSuite::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2828:28 (grpc_json_transcoder_integration_test+0x4596c84)
    #35 testing::internal::UnitTestImpl::RunAllTests() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:5285:44 (grpc_json_transcoder_integration_test+0x45aa467)
    #36 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45d5706)
    #37 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b8ff7)
    #38 testing::UnitTest::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:4873:10 (grpc_json_transcoder_integration_test+0x45a9c8e)
    #39 RUN_ALL_TESTS() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:2453:46 (grpc_json_transcoder_integration_test+0x31ba967)
    #40 Envoy::TestRunner::RunTests(int, char**) /proc/self/cwd/./test/test_runner.h:121:12 (grpc_json_transcoder_integration_test+0x31b9e79)
    #41 main /proc/self/cwd/test/main.cc:38:10 (grpc_json_transcoder_integration_test+0x31b8604)

SUMMARY: ThreadSanitizer: signal-unsafe call inside of a signal (/build/tmp/_bazel_bazel/b570b5ccd0454dc9af9f65ab1833764d/execroot/envoy/bazel-out/k8-dbg/bin/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test+0x15ebfa7) in __interceptor_malloc
==================
==================
WARNING: ThreadSanitizer: signal-unsafe call inside of a signal (pid=2206)
    #0 malloc <null> (grpc_json_transcoder_integration_test+0x15ebfa7)
    #1 vasprintf /build/glibc-LK5gWL/glibc-2.23/libio/vasprintf.c:73 (libc.so.6+0x767d7)
    #2 spdlog::details::os::localtime(long const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/os.h:81:5 (grpc_json_transcoder_integration_test+0x1720657)
    #3 spdlog::pattern_formatter::get_time_(spdlog::details::log_msg const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1078:20 (grpc_json_transcoder_integration_test+0x4495d3d)
    #4 spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v5::basic_memory_buffer<char, 500ul, std::allocator<char> >&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1053:26 (grpc_json_transcoder_integration_test+0x4467cc7)
    #5 Envoy::Logger::DelegatingLogSink::log(spdlog::details::log_msg const&) /proc/self/cwd/source/common/common/logger.cc:65:15 (grpc_json_transcoder_integration_test+0x4461883)
    #6 spdlog::logger::sink_it_(spdlog::details::log_msg&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:387:19 (grpc_json_transcoder_integration_test+0x16cd245)
    #7 void spdlog::logger::log<char const*, void const*>(spdlog::source_loc, spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:74:9 (grpc_json_transcoder_integration_test+0x445c5cc)
    #8 void spdlog::logger::log<char const*, void const*>(spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:82:5 (grpc_json_transcoder_integration_test+0x445c39d)
    #9 void spdlog::logger::critical<char const*, void const*>(char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:183:5 (grpc_json_transcoder_integration_test+0x445c2e1)
    #10 Envoy::BackwardsTrace::logFault(char const*, void const*) /proc/self/cwd/bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:81:5 (grpc_json_transcoder_integration_test+0x445bc69)
    #11 Envoy::SignalAction::sigHandler(int, siginfo_t*, void*) /proc/self/cwd/source/common/signal/signal_action.cc:56:10 (grpc_json_transcoder_integration_test+0x4459c86)
    #12 __tsan::CallUserSignalHandler(__tsan::ThreadState*, bool, bool, bool, int, __sanitizer::__sanitizer_siginfo*, void*) <null> (grpc_json_transcoder_integration_test+0x15f3e73)
    #13 Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:789:23 (grpc_json_transcoder_integration_test+0x2e7897d)
    #14 non-virtual thunk to Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e789e8)
    #15 Envoy::Http::Http1::ConnectionImpl::onResetStreamBase(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:506:3 (grpc_json_transcoder_integration_test+0x2e70898)
    #16 Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:223:15 (grpc_json_transcoder_integration_test+0x2e7066f)
    #17 non-virtual thunk to Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e70958)
    #18 Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc:87:55 (grpc_json_transcoder_integration_test+0x2e6633e)
    #19 non-virtual thunk to Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc (grpc_json_transcoder_integration_test+0x2e66a48)
    #20 Envoy::Network::ConnectionImpl::raiseEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:335:15 (grpc_json_transcoder_integration_test+0x35ca006)
    #21 Envoy::Network::ConnectionImpl::closeSocket(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:199:3 (grpc_json_transcoder_integration_test+0x35c80a7)
    #22 Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc:123:7 (grpc_json_transcoder_integration_test+0x35c7349)
    #23 virtual thunk to Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc (grpc_json_transcoder_integration_test+0x35c8146)
    #24 Envoy::Http::CodecClient::close() /proc/self/cwd/source/common/http/codec_client.cc:41:42 (grpc_json_transcoder_integration_test+0x2e658a5)
    #25 Envoy::HttpIntegrationTest::cleanupUpstreamAndDownstream() /proc/self/cwd/test/integration/http_integration.cc:303:20 (grpc_json_transcoder_integration_test+0x17a4b84)
    #26 Envoy::HttpIntegrationTest::~HttpIntegrationTest() /proc/self/cwd/test/integration/http_integration.cc:244:3 (grpc_json_transcoder_integration_test+0x17a4491)
    #27 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest::~GrpcJsonTranscoderIntegrationTest() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:24:7 (grpc_json_transcoder_integration_test+0x167ce16)
    #28 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c4688)
    #29 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c46cc)
    #30 testing::Test::DeleteSelf_() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:488:24 (grpc_json_transcoder_integration_test+0x45b5e92)
    #31 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45cf896)
    #32 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b50f1)
    #33 testing::TestInfo::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2704:5 (grpc_json_transcoder_integration_test+0x459627f)
    #34 testing::TestSuite::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2828:28 (grpc_json_transcoder_integration_test+0x4596c84)
    #35 testing::internal::UnitTestImpl::RunAllTests() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:5285:44 (grpc_json_transcoder_integration_test+0x45aa467)
    #36 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45d5706)
    #37 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b8ff7)
    #38 testing::UnitTest::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:4873:10 (grpc_json_transcoder_integration_test+0x45a9c8e)
    #39 RUN_ALL_TESTS() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:2453:46 (grpc_json_transcoder_integration_test+0x31ba967)
    #40 Envoy::TestRunner::RunTests(int, char**) /proc/self/cwd/./test/test_runner.h:121:12 (grpc_json_transcoder_integration_test+0x31b9e79)
    #41 main /proc/self/cwd/test/main.cc:38:10 (grpc_json_transcoder_integration_test+0x31b8604)

SUMMARY: ThreadSanitizer: signal-unsafe call inside of a signal (/build/tmp/_bazel_bazel/b570b5ccd0454dc9af9f65ab1833764d/execroot/envoy/bazel-out/k8-dbg/bin/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test+0x15ebfa7) in __interceptor_malloc
==================
==================
WARNING: ThreadSanitizer: signal-unsafe call inside of a signal (pid=2206)
    #0 free <null> (grpc_json_transcoder_integration_test+0x15ec3e4)
    #1 vasprintf /build/glibc-LK5gWL/glibc-2.23/libio/vasprintf.c:77 (libc.so.6+0x767fb)
    #2 spdlog::details::os::localtime(long const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/os.h:81:5 (grpc_json_transcoder_integration_test+0x1720657)
    #3 spdlog::pattern_formatter::get_time_(spdlog::details::log_msg const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1078:20 (grpc_json_transcoder_integration_test+0x4495d3d)
    #4 spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v5::basic_memory_buffer<char, 500ul, std::allocator<char> >&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1053:26 (grpc_json_transcoder_integration_test+0x4467cc7)
    #5 Envoy::Logger::DelegatingLogSink::log(spdlog::details::log_msg const&) /proc/self/cwd/source/common/common/logger.cc:65:15 (grpc_json_transcoder_integration_test+0x4461883)
    #6 spdlog::logger::sink_it_(spdlog::details::log_msg&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:387:19 (grpc_json_transcoder_integration_test+0x16cd245)
    #7 void spdlog::logger::log<char const*, void const*>(spdlog::source_loc, spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:74:9 (grpc_json_transcoder_integration_test+0x445c5cc)
    #8 void spdlog::logger::log<char const*, void const*>(spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:82:5 (grpc_json_transcoder_integration_test+0x445c39d)
    #9 void spdlog::logger::critical<char const*, void const*>(char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:183:5 (grpc_json_transcoder_integration_test+0x445c2e1)
    #10 Envoy::BackwardsTrace::logFault(char const*, void const*) /proc/self/cwd/bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:81:5 (grpc_json_transcoder_integration_test+0x445bc69)
    #11 Envoy::SignalAction::sigHandler(int, siginfo_t*, void*) /proc/self/cwd/source/common/signal/signal_action.cc:56:10 (grpc_json_transcoder_integration_test+0x4459c86)
    #12 __tsan::CallUserSignalHandler(__tsan::ThreadState*, bool, bool, bool, int, __sanitizer::__sanitizer_siginfo*, void*) <null> (grpc_json_transcoder_integration_test+0x15f3e73)
    #13 Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:789:23 (grpc_json_transcoder_integration_test+0x2e7897d)
    #14 non-virtual thunk to Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e789e8)
    #15 Envoy::Http::Http1::ConnectionImpl::onResetStreamBase(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:506:3 (grpc_json_transcoder_integration_test+0x2e70898)
    #16 Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:223:15 (grpc_json_transcoder_integration_test+0x2e7066f)
    #17 non-virtual thunk to Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e70958)
    #18 Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc:87:55 (grpc_json_transcoder_integration_test+0x2e6633e)
    #19 non-virtual thunk to Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc (grpc_json_transcoder_integration_test+0x2e66a48)
    #20 Envoy::Network::ConnectionImpl::raiseEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:335:15 (grpc_json_transcoder_integration_test+0x35ca006)
    #21 Envoy::Network::ConnectionImpl::closeSocket(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:199:3 (grpc_json_transcoder_integration_test+0x35c80a7)
    #22 Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc:123:7 (grpc_json_transcoder_integration_test+0x35c7349)
    #23 virtual thunk to Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc (grpc_json_transcoder_integration_test+0x35c8146)
    #24 Envoy::Http::CodecClient::close() /proc/self/cwd/source/common/http/codec_client.cc:41:42 (grpc_json_transcoder_integration_test+0x2e658a5)
    #25 Envoy::HttpIntegrationTest::cleanupUpstreamAndDownstream() /proc/self/cwd/test/integration/http_integration.cc:303:20 (grpc_json_transcoder_integration_test+0x17a4b84)
    #26 Envoy::HttpIntegrationTest::~HttpIntegrationTest() /proc/self/cwd/test/integration/http_integration.cc:244:3 (grpc_json_transcoder_integration_test+0x17a4491)
    #27 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest::~GrpcJsonTranscoderIntegrationTest() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:24:7 (grpc_json_transcoder_integration_test+0x167ce16)
    #28 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c4688)
    #29 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c46cc)
    #30 testing::Test::DeleteSelf_() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:488:24 (grpc_json_transcoder_integration_test+0x45b5e92)
    #31 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45cf896)
    #32 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b50f1)
    #33 testing::TestInfo::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2704:5 (grpc_json_transcoder_integration_test+0x459627f)
    #34 testing::TestSuite::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2828:28 (grpc_json_transcoder_integration_test+0x4596c84)
    #35 testing::internal::UnitTestImpl::RunAllTests() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:5285:44 (grpc_json_transcoder_integration_test+0x45aa467)
    #36 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45d5706)
    #37 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b8ff7)
    #38 testing::UnitTest::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:4873:10 (grpc_json_transcoder_integration_test+0x45a9c8e)
    #39 RUN_ALL_TESTS() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:2453:46 (grpc_json_transcoder_integration_test+0x31ba967)
    #40 Envoy::TestRunner::RunTests(int, char**) /proc/self/cwd/./test/test_runner.h:121:12 (grpc_json_transcoder_integration_test+0x31b9e79)
    #41 main /proc/self/cwd/test/main.cc:38:10 (grpc_json_transcoder_integration_test+0x31b8604)

SUMMARY: ThreadSanitizer: signal-unsafe call inside of a signal (/build/tmp/_bazel_bazel/b570b5ccd0454dc9af9f65ab1833764d/execroot/envoy/bazel-out/k8-dbg/bin/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test+0x15ec3e4) in __interceptor_free
==================
==================
WARNING: ThreadSanitizer: signal-unsafe call inside of a signal (pid=2206)
    #0 malloc <null> (grpc_json_transcoder_integration_test+0x15ebfa7)
    #1 __fopen_internal /build/glibc-LK5gWL/glibc-2.23/libio/iofopen.c:69 (libc.so.6+0x6dcdc)
    #2 spdlog::details::os::localtime(long const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/os.h:81:5 (grpc_json_transcoder_integration_test+0x1720657)
    #3 spdlog::pattern_formatter::get_time_(spdlog::details::log_msg const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1078:20 (grpc_json_transcoder_integration_test+0x4495d3d)
    #4 spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v5::basic_memory_buffer<char, 500ul, std::allocator<char> >&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1053:26 (grpc_json_transcoder_integration_test+0x4467cc7)
    #5 Envoy::Logger::DelegatingLogSink::log(spdlog::details::log_msg const&) /proc/self/cwd/source/common/common/logger.cc:65:15 (grpc_json_transcoder_integration_test+0x4461883)
    #6 spdlog::logger::sink_it_(spdlog::details::log_msg&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:387:19 (grpc_json_transcoder_integration_test+0x16cd245)
    #7 void spdlog::logger::log<char const*, void const*>(spdlog::source_loc, spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:74:9 (grpc_json_transcoder_integration_test+0x445c5cc)
    #8 void spdlog::logger::log<char const*, void const*>(spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:82:5 (grpc_json_transcoder_integration_test+0x445c39d)
    #9 void spdlog::logger::critical<char const*, void const*>(char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:183:5 (grpc_json_transcoder_integration_test+0x445c2e1)
    #10 Envoy::BackwardsTrace::logFault(char const*, void const*) /proc/self/cwd/bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:81:5 (grpc_json_transcoder_integration_test+0x445bc69)
    #11 Envoy::SignalAction::sigHandler(int, siginfo_t*, void*) /proc/self/cwd/source/common/signal/signal_action.cc:56:10 (grpc_json_transcoder_integration_test+0x4459c86)
    #12 __tsan::CallUserSignalHandler(__tsan::ThreadState*, bool, bool, bool, int, __sanitizer::__sanitizer_siginfo*, void*) <null> (grpc_json_transcoder_integration_test+0x15f3e73)
    #13 Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:789:23 (grpc_json_transcoder_integration_test+0x2e7897d)
    #14 non-virtual thunk to Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e789e8)
    #15 Envoy::Http::Http1::ConnectionImpl::onResetStreamBase(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:506:3 (grpc_json_transcoder_integration_test+0x2e70898)
    #16 Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:223:15 (grpc_json_transcoder_integration_test+0x2e7066f)
    #17 non-virtual thunk to Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e70958)
    #18 Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc:87:55 (grpc_json_transcoder_integration_test+0x2e6633e)
    #19 non-virtual thunk to Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc (grpc_json_transcoder_integration_test+0x2e66a48)
    #20 Envoy::Network::ConnectionImpl::raiseEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:335:15 (grpc_json_transcoder_integration_test+0x35ca006)
    #21 Envoy::Network::ConnectionImpl::closeSocket(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:199:3 (grpc_json_transcoder_integration_test+0x35c80a7)
    #22 Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc:123:7 (grpc_json_transcoder_integration_test+0x35c7349)
    #23 virtual thunk to Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc (grpc_json_transcoder_integration_test+0x35c8146)
    #24 Envoy::Http::CodecClient::close() /proc/self/cwd/source/common/http/codec_client.cc:41:42 (grpc_json_transcoder_integration_test+0x2e658a5)
    #25 Envoy::HttpIntegrationTest::cleanupUpstreamAndDownstream() /proc/self/cwd/test/integration/http_integration.cc:303:20 (grpc_json_transcoder_integration_test+0x17a4b84)
    #26 Envoy::HttpIntegrationTest::~HttpIntegrationTest() /proc/self/cwd/test/integration/http_integration.cc:244:3 (grpc_json_transcoder_integration_test+0x17a4491)
    #27 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest::~GrpcJsonTranscoderIntegrationTest() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:24:7 (grpc_json_transcoder_integration_test+0x167ce16)
    #28 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c4688)
    #29 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c46cc)
    #30 testing::Test::DeleteSelf_() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:488:24 (grpc_json_transcoder_integration_test+0x45b5e92)
    #31 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45cf896)
    #32 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b50f1)
    #33 testing::TestInfo::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2704:5 (grpc_json_transcoder_integration_test+0x459627f)
    #34 testing::TestSuite::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2828:28 (grpc_json_transcoder_integration_test+0x4596c84)
    #35 testing::internal::UnitTestImpl::RunAllTests() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:5285:44 (grpc_json_transcoder_integration_test+0x45aa467)
    #36 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45d5706)
    #37 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b8ff7)
    #38 testing::UnitTest::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:4873:10 (grpc_json_transcoder_integration_test+0x45a9c8e)
    #39 RUN_ALL_TESTS() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:2453:46 (grpc_json_transcoder_integration_test+0x31ba967)
    #40 Envoy::TestRunner::RunTests(int, char**) /proc/self/cwd/./test/test_runner.h:121:12 (grpc_json_transcoder_integration_test+0x31b9e79)
    #41 main /proc/self/cwd/test/main.cc:38:10 (grpc_json_transcoder_integration_test+0x31b8604)

SUMMARY: ThreadSanitizer: signal-unsafe call inside of a signal (/build/tmp/_bazel_bazel/b570b5ccd0454dc9af9f65ab1833764d/execroot/envoy/bazel-out/k8-dbg/bin/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test+0x15ebfa7) in __interceptor_malloc
==================
==================
WARNING: ThreadSanitizer: signal-unsafe call inside of a signal (pid=2206)
    #0 free <null> (grpc_json_transcoder_integration_test+0x15ec3e4)
    #1 __fopen_internal /build/glibc-LK5gWL/glibc-2.23/libio/iofopen.c:90 (libc.so.6+0x6dd5c)
    #2 spdlog::details::os::localtime(long const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/os.h:81:5 (grpc_json_transcoder_integration_test+0x1720657)
    #3 spdlog::pattern_formatter::get_time_(spdlog::details::log_msg const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1078:20 (grpc_json_transcoder_integration_test+0x4495d3d)
    #4 spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v5::basic_memory_buffer<char, 500ul, std::allocator<char> >&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1053:26 (grpc_json_transcoder_integration_test+0x4467cc7)
    #5 Envoy::Logger::DelegatingLogSink::log(spdlog::details::log_msg const&) /proc/self/cwd/source/common/common/logger.cc:65:15 (grpc_json_transcoder_integration_test+0x4461883)
    #6 spdlog::logger::sink_it_(spdlog::details::log_msg&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:387:19 (grpc_json_transcoder_integration_test+0x16cd245)
    #7 void spdlog::logger::log<char const*, void const*>(spdlog::source_loc, spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:74:9 (grpc_json_transcoder_integration_test+0x445c5cc)
    #8 void spdlog::logger::log<char const*, void const*>(spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:82:5 (grpc_json_transcoder_integration_test+0x445c39d)
    #9 void spdlog::logger::critical<char const*, void const*>(char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:183:5 (grpc_json_transcoder_integration_test+0x445c2e1)
    #10 Envoy::BackwardsTrace::logFault(char const*, void const*) /proc/self/cwd/bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:81:5 (grpc_json_transcoder_integration_test+0x445bc69)
    #11 Envoy::SignalAction::sigHandler(int, siginfo_t*, void*) /proc/self/cwd/source/common/signal/signal_action.cc:56:10 (grpc_json_transcoder_integration_test+0x4459c86)
    #12 __tsan::CallUserSignalHandler(__tsan::ThreadState*, bool, bool, bool, int, __sanitizer::__sanitizer_siginfo*, void*) <null> (grpc_json_transcoder_integration_test+0x15f3e73)
    #13 Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:789:23 (grpc_json_transcoder_integration_test+0x2e7897d)
    #14 non-virtual thunk to Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e789e8)
    #15 Envoy::Http::Http1::ConnectionImpl::onResetStreamBase(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:506:3 (grpc_json_transcoder_integration_test+0x2e70898)
    #16 Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:223:15 (grpc_json_transcoder_integration_test+0x2e7066f)
    #17 non-virtual thunk to Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e70958)
    #18 Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc:87:55 (grpc_json_transcoder_integration_test+0x2e6633e)
    #19 non-virtual thunk to Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc (grpc_json_transcoder_integration_test+0x2e66a48)
    #20 Envoy::Network::ConnectionImpl::raiseEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:335:15 (grpc_json_transcoder_integration_test+0x35ca006)
    #21 Envoy::Network::ConnectionImpl::closeSocket(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:199:3 (grpc_json_transcoder_integration_test+0x35c80a7)
    #22 Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc:123:7 (grpc_json_transcoder_integration_test+0x35c7349)
    #23 virtual thunk to Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc (grpc_json_transcoder_integration_test+0x35c8146)
    #24 Envoy::Http::CodecClient::close() /proc/self/cwd/source/common/http/codec_client.cc:41:42 (grpc_json_transcoder_integration_test+0x2e658a5)
    #25 Envoy::HttpIntegrationTest::cleanupUpstreamAndDownstream() /proc/self/cwd/test/integration/http_integration.cc:303:20 (grpc_json_transcoder_integration_test+0x17a4b84)
    #26 Envoy::HttpIntegrationTest::~HttpIntegrationTest() /proc/self/cwd/test/integration/http_integration.cc:244:3 (grpc_json_transcoder_integration_test+0x17a4491)
    #27 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest::~GrpcJsonTranscoderIntegrationTest() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:24:7 (grpc_json_transcoder_integration_test+0x167ce16)
    #28 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c4688)
    #29 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c46cc)
    #30 testing::Test::DeleteSelf_() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:488:24 (grpc_json_transcoder_integration_test+0x45b5e92)
    #31 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45cf896)
    #32 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b50f1)
    #33 testing::TestInfo::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2704:5 (grpc_json_transcoder_integration_test+0x459627f)
    #34 testing::TestSuite::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2828:28 (grpc_json_transcoder_integration_test+0x4596c84)
    #35 testing::internal::UnitTestImpl::RunAllTests() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:5285:44 (grpc_json_transcoder_integration_test+0x45aa467)
    #36 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45d5706)
    #37 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b8ff7)
    #38 testing::UnitTest::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:4873:10 (grpc_json_transcoder_integration_test+0x45a9c8e)
    #39 RUN_ALL_TESTS() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:2453:46 (grpc_json_transcoder_integration_test+0x31ba967)
    #40 Envoy::TestRunner::RunTests(int, char**) /proc/self/cwd/./test/test_runner.h:121:12 (grpc_json_transcoder_integration_test+0x31b9e79)
    #41 main /proc/self/cwd/test/main.cc:38:10 (grpc_json_transcoder_integration_test+0x31b8604)

SUMMARY: ThreadSanitizer: signal-unsafe call inside of a signal (/build/tmp/_bazel_bazel/b570b5ccd0454dc9af9f65ab1833764d/execroot/envoy/bazel-out/k8-dbg/bin/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test+0x15ec3e4) in __interceptor_free
==================
==================
WARNING: ThreadSanitizer: signal-unsafe call inside of a signal (pid=2206)
    #0 free <null> (grpc_json_transcoder_integration_test+0x15ec3e4)
    #1 __tzfile_read /build/glibc-LK5gWL/glibc-2.23/time/tzfile.c:540 (libc.so.6+0xbdfe9)
    #2 spdlog::details::os::localtime(long const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/os.h:81:5 (grpc_json_transcoder_integration_test+0x1720657)
    #3 spdlog::pattern_formatter::get_time_(spdlog::details::log_msg const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1078:20 (grpc_json_transcoder_integration_test+0x4495d3d)
    #4 spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v5::basic_memory_buffer<char, 500ul, std::allocator<char> >&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1053:26 (grpc_json_transcoder_integration_test+0x4467cc7)
    #5 Envoy::Logger::DelegatingLogSink::log(spdlog::details::log_msg const&) /proc/self/cwd/source/common/common/logger.cc:65:15 (grpc_json_transcoder_integration_test+0x4461883)
    #6 spdlog::logger::sink_it_(spdlog::details::log_msg&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:387:19 (grpc_json_transcoder_integration_test+0x16cd245)
    #7 void spdlog::logger::log<char const*, void const*>(spdlog::source_loc, spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:74:9 (grpc_json_transcoder_integration_test+0x445c5cc)
    #8 void spdlog::logger::log<char const*, void const*>(spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:82:5 (grpc_json_transcoder_integration_test+0x445c39d)
    #9 void spdlog::logger::critical<char const*, void const*>(char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:183:5 (grpc_json_transcoder_integration_test+0x445c2e1)
    #10 Envoy::BackwardsTrace::logFault(char const*, void const*) /proc/self/cwd/bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:81:5 (grpc_json_transcoder_integration_test+0x445bc69)
    #11 Envoy::SignalAction::sigHandler(int, siginfo_t*, void*) /proc/self/cwd/source/common/signal/signal_action.cc:56:10 (grpc_json_transcoder_integration_test+0x4459c86)
    #12 __tsan::CallUserSignalHandler(__tsan::ThreadState*, bool, bool, bool, int, __sanitizer::__sanitizer_siginfo*, void*) <null> (grpc_json_transcoder_integration_test+0x15f3e73)
    #13 Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:789:23 (grpc_json_transcoder_integration_test+0x2e7897d)
    #14 non-virtual thunk to Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e789e8)
    #15 Envoy::Http::Http1::ConnectionImpl::onResetStreamBase(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:506:3 (grpc_json_transcoder_integration_test+0x2e70898)
    #16 Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:223:15 (grpc_json_transcoder_integration_test+0x2e7066f)
    #17 non-virtual thunk to Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e70958)
    #18 Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc:87:55 (grpc_json_transcoder_integration_test+0x2e6633e)
    #19 non-virtual thunk to Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc (grpc_json_transcoder_integration_test+0x2e66a48)
    #20 Envoy::Network::ConnectionImpl::raiseEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:335:15 (grpc_json_transcoder_integration_test+0x35ca006)
    #21 Envoy::Network::ConnectionImpl::closeSocket(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:199:3 (grpc_json_transcoder_integration_test+0x35c80a7)
    #22 Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc:123:7 (grpc_json_transcoder_integration_test+0x35c7349)
    #23 virtual thunk to Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc (grpc_json_transcoder_integration_test+0x35c8146)
    #24 Envoy::Http::CodecClient::close() /proc/self/cwd/source/common/http/codec_client.cc:41:42 (grpc_json_transcoder_integration_test+0x2e658a5)
    #25 Envoy::HttpIntegrationTest::cleanupUpstreamAndDownstream() /proc/self/cwd/test/integration/http_integration.cc:303:20 (grpc_json_transcoder_integration_test+0x17a4b84)
    #26 Envoy::HttpIntegrationTest::~HttpIntegrationTest() /proc/self/cwd/test/integration/http_integration.cc:244:3 (grpc_json_transcoder_integration_test+0x17a4491)
    #27 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest::~GrpcJsonTranscoderIntegrationTest() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:24:7 (grpc_json_transcoder_integration_test+0x167ce16)
    #28 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c4688)
    #29 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c46cc)
    #30 testing::Test::DeleteSelf_() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:488:24 (grpc_json_transcoder_integration_test+0x45b5e92)
    #31 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45cf896)
    #32 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b50f1)
    #33 testing::TestInfo::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2704:5 (grpc_json_transcoder_integration_test+0x459627f)
    #34 testing::TestSuite::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2828:28 (grpc_json_transcoder_integration_test+0x4596c84)
    #35 testing::internal::UnitTestImpl::RunAllTests() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:5285:44 (grpc_json_transcoder_integration_test+0x45aa467)
    #36 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45d5706)
    #37 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b8ff7)
    #38 testing::UnitTest::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:4873:10 (grpc_json_transcoder_integration_test+0x45a9c8e)
    #39 RUN_ALL_TESTS() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:2453:46 (grpc_json_transcoder_integration_test+0x31ba967)
    #40 Envoy::TestRunner::RunTests(int, char**) /proc/self/cwd/./test/test_runner.h:121:12 (grpc_json_transcoder_integration_test+0x31b9e79)
    #41 main /proc/self/cwd/test/main.cc:38:10 (grpc_json_transcoder_integration_test+0x31b8604)

SUMMARY: ThreadSanitizer: signal-unsafe call inside of a signal (/build/tmp/_bazel_bazel/b570b5ccd0454dc9af9f65ab1833764d/execroot/envoy/bazel-out/k8-dbg/bin/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test+0x15ec3e4) in __interceptor_free
==================
==================
WARNING: ThreadSanitizer: signal-unsafe call inside of a signal (pid=2206)
    #0 malloc <null> (grpc_json_transcoder_integration_test+0x15ebfa7)
    #1 __tzstring_len /build/glibc-LK5gWL/glibc-2.23/time/tzset.c:106 (libc.so.6+0xbc83a)
    #2 parse_tzname /build/glibc-LK5gWL/glibc-2.23/time/tzset.c:205 (libc.so.6+0xbc83a)
    #3 spdlog::details::os::localtime(long const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/os.h:81:5 (grpc_json_transcoder_integration_test+0x1720657)
    #4 spdlog::pattern_formatter::get_time_(spdlog::details::log_msg const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1078:20 (grpc_json_transcoder_integration_test+0x4495d3d)
    #5 spdlog::pattern_formatter::format(spdlog::details::log_msg const&, fmt::v5::basic_memory_buffer<char, 500ul, std::allocator<char> >&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/pattern_formatter.h:1053:26 (grpc_json_transcoder_integration_test+0x4467cc7)
    #6 Envoy::Logger::DelegatingLogSink::log(spdlog::details::log_msg const&) /proc/self/cwd/source/common/common/logger.cc:65:15 (grpc_json_transcoder_integration_test+0x4461883)
    #7 spdlog::logger::sink_it_(spdlog::details::log_msg&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:387:19 (grpc_json_transcoder_integration_test+0x16cd245)
    #8 void spdlog::logger::log<char const*, void const*>(spdlog::source_loc, spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:74:9 (grpc_json_transcoder_integration_test+0x445c5cc)
    #9 void spdlog::logger::log<char const*, void const*>(spdlog::level::level_enum, char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:82:5 (grpc_json_transcoder_integration_test+0x445c39d)
    #10 void spdlog::logger::critical<char const*, void const*>(char const*, char const* const&, void const* const&) /proc/self/cwd/external/com_github_gabime_spdlog/include/spdlog/details/logger_impl.h:183:5 (grpc_json_transcoder_integration_test+0x445c2e1)
    #11 Envoy::BackwardsTrace::logFault(char const*, void const*) /proc/self/cwd/bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:81:5 (grpc_json_transcoder_integration_test+0x445bc69)
    #12 Envoy::SignalAction::sigHandler(int, siginfo_t*, void*) /proc/self/cwd/source/common/signal/signal_action.cc:56:10 (grpc_json_transcoder_integration_test+0x4459c86)
    #13 __tsan::CallUserSignalHandler(__tsan::ThreadState*, bool, bool, bool, int, __sanitizer::__sanitizer_siginfo*, void*) <null> (grpc_json_transcoder_integration_test+0x15f3e73)
    #14 Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:789:23 (grpc_json_transcoder_integration_test+0x2e7897d)
    #15 non-virtual thunk to Envoy::Http::Http1::ClientConnectionImpl::onResetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e789e8)
    #16 Envoy::Http::Http1::ConnectionImpl::onResetStreamBase(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:506:3 (grpc_json_transcoder_integration_test+0x2e70898)
    #17 Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc:223:15 (grpc_json_transcoder_integration_test+0x2e7066f)
    #18 non-virtual thunk to Envoy::Http::Http1::StreamEncoderImpl::resetStream(Envoy::Http::StreamResetReason) /proc/self/cwd/source/common/http/http1/codec_impl.cc (grpc_json_transcoder_integration_test+0x2e70958)
    #19 Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc:87:55 (grpc_json_transcoder_integration_test+0x2e6633e)
    #20 non-virtual thunk to Envoy::Http::CodecClient::onEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/http/codec_client.cc (grpc_json_transcoder_integration_test+0x2e66a48)
    #21 Envoy::Network::ConnectionImpl::raiseEvent(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:335:15 (grpc_json_transcoder_integration_test+0x35ca006)
    #22 Envoy::Network::ConnectionImpl::closeSocket(Envoy::Network::ConnectionEvent) /proc/self/cwd/source/common/network/connection_impl.cc:199:3 (grpc_json_transcoder_integration_test+0x35c80a7)
    #23 Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc:123:7 (grpc_json_transcoder_integration_test+0x35c7349)
    #24 virtual thunk to Envoy::Network::ConnectionImpl::close(Envoy::Network::ConnectionCloseType) /proc/self/cwd/source/common/network/connection_impl.cc (grpc_json_transcoder_integration_test+0x35c8146)
    #25 Envoy::Http::CodecClient::close() /proc/self/cwd/source/common/http/codec_client.cc:41:42 (grpc_json_transcoder_integration_test+0x2e658a5)
    #26 Envoy::HttpIntegrationTest::cleanupUpstreamAndDownstream() /proc/self/cwd/test/integration/http_integration.cc:303:20 (grpc_json_transcoder_integration_test+0x17a4b84)
    #27 Envoy::HttpIntegrationTest::~HttpIntegrationTest() /proc/self/cwd/test/integration/http_integration.cc:244:3 (grpc_json_transcoder_integration_test+0x17a4491)
    #28 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest::~GrpcJsonTranscoderIntegrationTest() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:24:7 (grpc_json_transcoder_integration_test+0x167ce16)
    #29 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c4688)
    #30 Envoy::(anonymous namespace)::GrpcJsonTranscoderIntegrationTest_LargeStruct_Test::~GrpcJsonTranscoderIntegrationTest_LargeStruct_Test() /proc/self/cwd/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test.cc:549:1 (grpc_json_transcoder_integration_test+0x16c46cc)
    #31 testing::Test::DeleteSelf_() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:488:24 (grpc_json_transcoder_integration_test+0x45b5e92)
    #32 void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45cf896)
    #33 void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b50f1)
    #34 testing::TestInfo::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2704:5 (grpc_json_transcoder_integration_test+0x459627f)
    #35 testing::TestSuite::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2828:28 (grpc_json_transcoder_integration_test+0x4596c84)
    #36 testing::internal::UnitTestImpl::RunAllTests() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:5285:44 (grpc_json_transcoder_integration_test+0x45aa467)
    #37 bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2447:10 (grpc_json_transcoder_integration_test+0x45d5706)
    #38 bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:2483:14 (grpc_json_transcoder_integration_test+0x45b8ff7)
    #39 testing::UnitTest::Run() /proc/self/cwd/external/com_google_googletest/googletest/src/gtest.cc:4873:10 (grpc_json_transcoder_integration_test+0x45a9c8e)
    #40 RUN_ALL_TESTS() /proc/self/cwd/external/com_google_googletest/googletest/include/gtest/gtest.h:2453:46 (grpc_json_transcoder_integration_test+0x31ba967)
    #41 Envoy::TestRunner::RunTests(int, char**) /proc/self/cwd/./test/test_runner.h:121:12 (grpc_json_transcoder_integration_test+0x31b9e79)
    #42 main /proc/self/cwd/test/main.cc:38:10 (grpc_json_transcoder_integration_test+0x31b8604)

SUMMARY: ThreadSanitizer: signal-unsafe call inside of a signal (/build/tmp/_bazel_bazel/b570b5ccd0454dc9af9f65ab1833764d/execroot/envoy/bazel-out/k8-dbg/bin/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test+0x15ebfa7) in __interceptor_malloc
==================
[2019-07-27 18:31:32.611][2206][critical][backtrace] [bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:81] Caught Segmentation fault, suspect faulting address 0x0
[2019-07-27 18:31:32.639][2206][critical][backtrace] [bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:69] Backtrace (use tools/stack_decode.py to get line numbers):
[2019-07-27 18:31:32.703][2206][critical][backtrace] [bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:73] #0: Envoy::SignalAction::sigHandler() [0x4459ca7]
[2019-07-27 18:31:32.762][2206][critical][backtrace] [bazel-out/k8-dbg/bin/source/server/_virtual_includes/backtrace_lib/server/backtrace.h:73] #1: __tsan::CallUserSignalHandler() [0x15f3e74]
external/bazel_tools/tools/test/test-setup.sh: line 310:  2206 Segmentation fault      "${TEST_PATH}" "$@" 2>&1
================================================================================
//test/extensions/filters/http/grpc_json_transcoder:grpc_json_transcoder_integration_test [0m[31m[1mFAILED[0m in 72.0s
  /build/tmp/_bazel_bazel/b570b5ccd0454dc9af9f65ab1833764d/execroot/envoy/bazel-out/k8-dbg/testlogs/test/extensions/filters/http/grpc_json_transcoder/grpc_json_transcoder_integration_test/test.log

Executed 1 out of 1 test: [0m[31m[1m1 fails locally[0m.
